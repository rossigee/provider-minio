---
apiVersion: minio.crossplane.io/v1
kind: User
metadata:
  name: sa-parent-user
spec:
  forProvider:
    userName: sa-parent-user
    policies:
      - readwrite
  providerConfigRef:
    name: provider-config
  writeConnectionSecretToRef:
    name: sa-parent-user
    namespace: default
---
apiVersion: minio.crossplane.io/v1
kind: ServiceAccount
metadata:
  name: test-serviceaccount
spec:
  forProvider:
    parentUser: sa-parent-user
    serviceAccountName: test-sa
    policies:
      - readwrite
    description: "E2E test service account"
  providerConfigRef:
    name: provider-config
  writeConnectionSecretToRef:
    name: test-serviceaccount-creds
    namespace: default